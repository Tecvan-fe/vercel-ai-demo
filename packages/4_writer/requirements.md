# 基于 LLM 的自动写作机器人

## 功能

用户给定 prompt 后，根据用户的输入生成一篇完整文章

## 实现逻辑

1. 大纲阶段：
   1. 根据用户输入的 prompt，分析目标受众、文章风格、文章复杂度、长度等方面的分析，并明确目标(技术分享、热点同步、说服、娱乐等)
   2. 将用户输入的prompt，拆解为若干关键字
   3. 根据关键字，进一步分析相关问题、争议点、最新研究
   4. 调用 perplexity.ai 接口搜索关键字与相关问题、争议点、最新研究
   5. 对搜索结果进行分类（如基础知识、观点、案例、数据等）
   6. 整合搜索结果与用户输入的prompt，生成多份内容大纲
   7. 评估大纲质量，从内容完整性、创新性、深度、观点独特性等角度评估质量，给出质量分，评选出质量最佳的大纲
2. 内容编撰阶段：
   1. 逐次为每一个章节生成内容
   2. 评估章节内容，从流畅度、创新度、深度等角度评估质量，得出质量分，分数较高进入下一步，否则回到上一步，重新为该章节生成内容
   3. 继续生成下一章节内容，注意保持段落间连贯，可增加过渡处理，直至所有内容生产完毕
3. 核查阶段：
   1. 核查文章提及的观点是否与事实相符，确保生成内容的准确性
4. 优化润色阶段：
   1. 检查语病，调整语气，用更专业的口吻梳理表达
   2. 根据受众群体，调整专业数据使用，优化段落长度与句式多样性
   3. 尽可能减少使用无序、有序列表方式表达内容，使用连贯语句表达观点

## 技术栈

- 使用 vercel ai sdk 调用 llm，相关接口说明已经保存到 docs/vercel-ai-sdk
- 使用 commander 完成命令行交互，使用 chalk 调整日志输出的颜色
- pnpm
- typescript
- 使用 @demo/common 输出日志
