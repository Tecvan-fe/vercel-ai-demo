# 基于 LLM 的 readme 自动生成机器人

## 功能

在monorepo 中分析给定文件目录 or package 目录，扫描源码列表(后缀名为 ts/tsx)，读入分析每一个文件模块的功能与对外暴露的内容，并最终将所有文件模块的信息整合成一个 readme 文档，输出到目录对应 README.auto.md 文件中

## 实现逻辑

1. 解析命令行参数：支持指定输出文件名、指定需要分析的目录、指定 verbose 模式输出调试信息、需要分析的文件扩展名
2. 递归目录，扫描出所有需要分析的文件，排除 node_modules 等无关目录，并根据将分析的文件记录为 task 任务，保存到 `.cache` 目录中，方便任务中断后能恢复执行；
3. 读入代码文件，调用 llm 分析出模块的导出内容，据此总结出对外暴露的接口；调用 llm 分析模块的实现逻辑，据此总结出实现原理；根据前面总结出来的内容，生成功能描述；
4. 将文件的分析结果记录到 task 任务文件中；
5. 最终根据上述分析出来的所有信息，按功能领域聚合相关模块，生成模块关系图，调用 LLM 进行归纳总结，总结的结构：
   1. 项目概览
   2. 核心功能
   3. 接口说明(接口说明中需要包含使用示例)
      1. 另外，需要注意的是，这里写的接口说明只需提供该 package 对外暴露的接口相关说明即可，关于对外暴露的入口，可根据 package 对应 package.json 中 main/exports 等字段确定
   4. 开发指南
6. 保存到 README.auto.md 文件中；

## 技术栈

- 使用 vercel ai sdk 完成 llm 调用
- commander
- pnpm
- typescript
- 使用 @demo/common 输出日志
